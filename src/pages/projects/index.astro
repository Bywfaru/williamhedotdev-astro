---
import MainLayout from '@/layouts/MainLayout.astro';
import { getCollection } from 'astro:content';
import tailwindConfig from '../../../tailwind.config.mjs';
import { Button } from '@/components/pageSpecific/home/general/Button';
import { ChevronLeft } from 'lucide-react';
import CatalogCard from '@/components/pageSpecific/projectsCatalog/CatalogCard/CatalogCard.astro';

const projectEntries = await getCollection('projects');
---

<MainLayout
  title="Portfolio"
  description="A collection of projects I've worked on"
>
  <div
    slot="outer"
    class:list={['w-full', 'h-60', 'p-10', 'lg:h-80']}
    style={`background-color: ${
      (tailwindConfig.theme?.colors as Record<string, string> | undefined)
        ?.tertiary
    }`}
  >
  </div>

  <div class:list={['flex', 'flex-col', 'gap-8', 'pt-10']}>
    <div
      class:list={['flex', 'gap-2', 'items-center', 'text-accent-2', 'text-xl']}
    >
      <Button type="link" variant="secondary" href="/"> Home </Button>

      <ChevronLeft />

      <Button type="link" variant="secondary" href="/projects">
        Portfolio
      </Button>
    </div>

    <div class:list={['flex', 'flex-col']}>
      <h1 class:list={['text-6xl', 'text-accent-1']}>Portfolio</h1>
      <h2 class:list={['text-2xl', 'font-mono', 'text-tertiary']}>
        A collection of projects I've worked on
      </h2>
    </div>

    <div class:list={['grid', 'grid-cols-1', 'gap-5']}>
      {projectEntries.map((entry) => <CatalogCard entry={entry} />)}
    </div>
  </div>
</MainLayout>
